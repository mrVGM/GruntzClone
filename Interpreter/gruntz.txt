let playAbility = function() {
	let raycastInfo = require("./info.txt");

	let selection = raycastInfo();
	let actor = selection.actor;

	let abilitiesComponent = actor.GetComponent|"Gruntz.Abilities.AbilitiesComponent"|();
	let mainAbility = abilitiesComponent.GetMainAbility();
	abilitiesComponent.ActivateAbility(mainAbility, null);
};

let spawn = function(name) {
	let raycastInfo = require("./info.txt");
	let selection = raycastInfo();

	let game = Base.Game.Instance;
	let defRepo = game.DefRepositoryDef;

	let template = null;
	foreach (defRepo.AllDefs, function(def) {
		if (template != null) {
			return;
		}
		if (def.GetType().FullName == "Gruntz.Actors.ActorTemplateDef" && def.name == name) {
			template = def;
		}
	});

	let actor = Gruntz.Actors.ActorDeployment.DeployActorFromTemplate(template, selection.tile);
	return actor;
};

exports = {};
exports.playAbility = playAbility;
exports.spawn = spawn;
